# PostgreSQL Reviewer API Documentation

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ REST API —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏–∑–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ PostgreSQL –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.

## –ë–∞–∑–æ–≤—ã–π URL

```
http://localhost:8000
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API

### üìä [–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á](./scheduler.md) - `/scheduler/*`

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞

### üîó [–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è](./connections.md) - `/connections/*`

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∫ –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö

### üìù [–õ–æ–≥–∏](./logs.md) - `/logs/*`

–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–æ–≤

### üìà [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥](./monitoring.md) - `/monitoring/*`

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–∏—Å—Ç–µ–º—ã

### üîç [–ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ–≤—å—é](./review.md) - `/review/*`

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### ‚öôÔ∏è [–ü—Ä–∞–≤–∏–ª–∞](./rules.md) - `/rules/*`

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞

### üõ† [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](./config.md) - `/config/*`

–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:**

```bash
curl -X POST http://localhost:8000/connections/ \
  -H "Content-Type: application/json" \
  -d '{
    "vault_path": "database/postgresql/test",
    "environment": "development",
    "description": "Test database connection",
    "tags": ["test", "development"]
  }'
```

2. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∞–Ω–∞–ª–∏–∑–∞:**

```bash
curl -X POST http://localhost:8000/scheduler/tasks \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Daily Config Check",
    "task_type": "config_check",
    "connection_id": 1,
    "cron_schedule": "0 2 * * *",
    "description": "–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"
  }'
```

3. **–ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á–∏:**

```bash
curl -X POST http://localhost:8000/scheduler/tasks/1/run
```

## –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã/–æ—Ç–≤–µ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç JSON —Ñ–æ—Ä–º–∞—Ç
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞)
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è —Å–ø–∏—Å–æ—á–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Å—Ö–µ–º—ã –æ—à–∏–±–æ–∫

## –°—Ö–µ–º—ã –æ—Ç–≤–µ—Ç–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç

```json
{
  "data": { ... },
  "status": "success"
}
```

### –û—à–∏–±–∫–∞

```json
{
  "detail": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
  "status": "error"
}
```
